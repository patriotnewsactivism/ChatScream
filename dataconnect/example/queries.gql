mutation CreateDemoUser @auth(level: PUBLIC, insecureReason: "This operation is for demo purposes and is safe to expose to the public") {
  user_insert(data: {
    id: "550e8400-e29b-41d4-a716-446655440000",
    username: "demouser1",
    email: "demouser1@example.com",
    createdAt: "2024-01-01T00:00:00Z",
    isStreamer: false
  })
}

query ListStreams @auth(level: PUBLIC, insecureReason: "This operation is safe to expose to the public") {
  streams {
    id
    title
    streamUrl
    startTime
    isLive
  }
}

mutation CreateDonation($streamId: UUID!, $amount: Float!, $currency: String!, $donorUsername: String, $message: String) @auth(level: USER) {
  donation_insert(data: {
    streamId: $streamId,
    amount: $amount,
    currency: $currency,
    donorUsername: $donorUsername,
    message: $message,
    createdAt_expr: "request.time",
    donorId_expr: "auth.uid"
  })
}

query GetMyDonationGoals @auth(level: USER) {
  donationGoals(where: {streamerId: {eq_expr: "auth.uid"}}) {
    id
    description
    goalAmount
    currentAmount
    achievedAt
  }
}